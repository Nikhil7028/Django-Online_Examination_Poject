{% include 'faculty/headerF.html' %}
<!-- this page will add question -->

<div class="main">
    <h3>Add questions</h3>
    {% if alert %}
        <div class="alert alert-{{alert.cls}} alert-dismissible fade show" role="alert">
            <strong>{{ alert.mg }}</strong>: {{ alert.desc }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    {% endif %}
    <div class="container">

        <div class="content mt-3">
            <div class="animated fadeIn">
                <div class="row">
                    <div class="col-lg-8">
                        <div class="card">
                            <div class="card-header">
                                <strong class="card-title">Add question in " <font color='green'>{{subname}}</font>" </strong>
                            </div>
                            <div class="card-body">

                                <div class="login-form">
                                    {% comment %} <form method="post" enctype="multipart/form-data">
                                        {% csrf_token %}
                                        {{ form.as_p }}
                                        <button type="submit">Submit</button>
                                    </form> {% endcomment %}
                                    {% comment %} <form action="" method="post" enctype="multipart/form-data">
                                        {% csrf_token %}
                                        <div class="form-group">
                                            <label>Add new question*</label>
                                            <textarea class="form-control" name="question" placeholder="Enter new Question" rows="2" cols="75" required></textarea>
                                        </div>
                                        <div class="form-group mt-2">
                                            <label>Image</label>
                                            <input type="file" class="form-control" name="img" accept="image/*" capture='user'>
                                        </div>
                                        <div class="form-group mt-2">
                                            <label>Option 1 *</label>
                                            <input type="text" class="form-control" name="opt1" placeholder="Enter option 1" required>
                                        </div>
                                        <div class="form-group mt-1">
                                            <label>Option 2 *</label>
                                            <input type="text" class="form-control" name="opt2" placeholder="Enter option 2" required>
                                        </div>
                                        <div class="form-group mt-1">
                                            <label>Option 3</label>
                                            <input type="text" class="form-control" name="opt3" placeholder="Enter option 3">
                                        </div>
                                        <div class="form-group mt-1">
                                            <label>Option 4</label>
                                            <input type="text" class="form-control" name="opt4" placeholder="Enter option 4">
                                        </div>
                                        <div class="form-group mt-2">
                                            <label>Answer *</label>
                                            <input type="text" class="form-control" name="ans" placeholder="Enter correct answer" required>
                                        </div>
                                        <input type="reset" class="btn btn-info" value="Clear" name="sub1">
                                        <input type="submit" class="btn btn-success" value="Submit" name="sub1">
                                    </form> {% endcomment %}
                                    <form action="" method="post" enctype="multipart/form-data">
                                        {% csrf_token %}
                                        <div class="form-group">
                                            <label>Add new question*</label>
                                            <textarea class="form-control" name="question" placeholder="Enter new Question" rows="2" cols="75" required></textarea>
                                        </div>
                                        <div class="form-group mt-2">
                                            <label>Image</label> 
                                            <input type="file" class="form-control" name="img" accept="image/*" capture='user'>
                                        </div>
                                        <div class="form-group mt-2">
                                            <label>Option 1 *</label>
                                            <input type="text" class="form-control" name="opt1" placeholder="Enter option 1" required>
                                        </div>
                                        <div class="form-group mt-1">
                                            <label>Option 2 *</label>
                                            <input type="text" class="form-control" name="opt2" placeholder="Enter option 2" required>
                                        </div>
                                        <div class="form-group mt-1">
                                            <label>Option 3</label>
                                            <input type="text" class="form-control" name="opt3" placeholder="Enter option 3">
                                        </div>
                                        <div class="form-group mt-1">
                                            <label>Option 4</label>
                                            <input type="text" class="form-control" name="opt4" placeholder="Enter option 4">
                                        </div>
                                        <div class="form-group mt-2">
                                            <label>Answer *</label>
                                            <input type="text" class="form-control" name="ans" placeholder="Enter correct answer" required>
                                            {% comment %} <select name="ans" required>      
                                                <option value="">---Select ans---</option>
                                                <option value="opt1">Option 1</option>
                                                <option value="opt2">option 2</option>
                                                <option value="opt3">option 3</option>
                                                <option value="opt4">Option 4</option>
                                            </select> {% endcomment %}
                                        </div>
                                        <div class="mt-3">
                                            <input type="reset" class="btn btn-info " value="Clear" name="sub1">
                                            <input type="submit" class="btn btn-success ps-10" value="Submit" name="sub1">
                                        </div>                                        
                                    </form>
                                    
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-14"><br>
                        {% if messages %}
                        <div class="alert-messages d-inline ">
                            {% for message in messages %}
                                <div class="alert {{ message.tags }} d-inline" style='color:Green;'>
                                    {{ message }}
                                </div>
                            {% endfor %}
                        </div>
                    {% endif %}
                        <!-- <div class="col-th-lg" -->
                        <div class="card">
                            <div class="card-header">
                                <strong class="card-title">Exam subject <b style="color: green;"> {{subname}} </b> </strong>
                            </div>
                            <div class="card-body">
                                <marquee  width='95%' direction='left' height='2%' style="padding: 1px 1px 1px 1px;" >
                                    <strong style="color:red;">Warning:</strong> If you click on     <button type='submit' class ='btn btn-danger'> Delete </button>  button the question will deleted without any conformation
                                </marquee>
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th scope="col">Sr.no</th>
                                            <th scope="col">Question</th>
                                            <th scope="col">Image</th>
                                            <th scope="col">Option 1</th>
                                            <th scope="col">Option 2</th>
                                            <th scope="col">Option 3</th>
                                            <th scope="col">Option 4</th>
                                            <th scope="col">Ans</th>
                                            <th scope="col">Edit</th> 
                                            <th scope="col">Delete </th> 
                                            <th scope="col">Paper Setter</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                       {% for row in rows %}
                                        <tr>
                                        <th scope="row"> {{ forloop.counter }} </th>
                                        <td> {{ row.ques }} </td>
                                        <td>  <img src="/media/{{ row.img }}" alt="No image" width="150px" height="100px"> </td>
                                        <td> {{ row.opt1 }} </td>
                                        <td> {{ row.opt2 }} </td>
                                        <td> {{ row.opt3 }} </td>
                                        <td> {{ row.opt4 }} </td>
                                        <td> {{ row.ans }} </td>
                                        <td> 
                                             <form action="{% url 'editQue' row.id %}" method='GET' class='d-inline'>
                                            <input type='submit' class ='btn btn-info' value='Edit'>
                                        </form>
                                        </td>
                                        <td>
                                            
                                            <form action="{% url 'deleteQue' row.id %}" method='POST' class='d-inline'>
                                                {% csrf_token %}
                                                <input type='submit'  class ='btn btn-danger' value='Delete'>
                                            </form>
                                        <td> {{ row.ques_setter }} </td>

                                        </tr>
                                
                                        {% endfor %}
                                    </tbody>
                                    
                                </table>
                                
                            </div>
                        </div>
                    </div>

                </div>
            </div><!-- .animated -->
        </div><!-- .content -->

    </div>

</div>
</html>
</body>